<script>
window.addEventListener('DOMContentLoaded', async(event)=>{
    class Canvas2D {
        constructor(w, h) {
            this.canvas = document.createElement('canvas')
            this.ctx = this.canvas.getContext(`2d`, {alpha:true, colorSpace:'srgb', desynchronized:false, willReadFrequently:true})
            this.d = this.ctx.createImageData(w, h)
            this.draw()
            this.put()
        }
        draw() {
            for (let i = 0; i < this.d.data.length; i+=4) {
                this.d.data[i + 0] = 190;  // R
                this.d.data[i + 1] = 0;    // G
                this.d.data[i + 2] = 210;  // B
                this.d.data[i + 3] = 255;  // A
            }
        }
        put(dx=0, dy=0) { this.ctx.putImageData(this.d, dx, dy) }
    }
    const cvs = new Canvas2D(16,16)
    console.log(cvs)
    document.body.appendChild(cvs.canvas)
})
</script>
